<app-cabecalho></app-cabecalho>

<br>

<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

<p-panel header="Clientes - Consultar">

  <form [formGroup]="formulario" name="form">

    <div class="row-grid">
      <span>
        <label for="nome">Nome:</label>
        <input id="nome" type="text" pInputText formControlName="nome" autocomplete="off"
          class="ui-inputtext ui-widget">
      </span>
    </div>

    <div class="row-grid">
      <button pButton type="button" label="Consultar" (click)="consultar()"></button>
      <button pButton type="button" label="Incluir" (click)="incluir()"
      *ngIf="hasRole('ROLE_ADMIN')" ></button>
    </div>

  </form>

</p-panel>

<br>
<br>

<p-table [value]="clientes">
  <ng-template pTemplate="header">
    <tr>
      <th>CÃ³digo</th>
      <th>Nome</th>
      <th>CPF</th>
      <th>CEP</th>
      <th>A&ccedil;&otilde;es</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-cliente>
    <tr>
      <td>{{cliente.id}}</td>
      <td>{{cliente.nome}}</td>
      <td>{{cliente.cpf}}</td>
      <td>{{cliente.cep}}</td>
      <td>
      <button type="button" pButton icon="pi pi-search" title="Visualizar" (click)="visualizar(cliente)" style="margin-right: 5px;"
          *ngIf="hasRole('ROLE_COMUM')" ></button>

        <button type="button" pButton icon="pi pi-pencil" title="Editar" (click)="editar(cliente)" style="margin-right: 5px;"
        *ngIf="hasRole('ROLE_ADMIN')" ></button>

        <button type="button" pButton icon="pi pi-trash" title="Remover" (click)="excluir(cliente)"
          *ngIf="hasRole('ROLE_ADMIN')" ></button>
      </td>
    </tr>
  </ng-template>
</p-table>
